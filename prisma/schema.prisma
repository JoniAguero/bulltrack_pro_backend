generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        Int        @id @default(autoincrement())
  email     String     @unique
  password  String
  name      String?
  createdAt DateTime   @default(now())
  updatedAt DateTime   @updatedAt
  favorites Favorite[]
}

model Bull {
  id                       Int        @id @default(autoincrement())
  caravana                 String     @unique
  nombre                   String
  uso                      String
  origen                   String
  pelaje                   String
  raza                     String
  edad_meses               Int
  caracteristica_destacada String?
  crecimiento              Int
  facilidad_parto          Int
  reproduccion             Int
  moderacion               Int
  carcasa                  Int
  createdAt                DateTime   @default(now())
  updatedAt                DateTime   @updatedAt
  bull_score               Float      @default(0)
  favorites                Favorite[]

  @@index([uso])
  @@index([origen])
  @@index([pelaje])
}

model Favorite {
  userId    Int
  bullId    Int
  createdAt DateTime @default(now())
  bull      Bull     @relation(fields: [bullId], references: [id])
  user      User     @relation(fields: [userId], references: [id])

  @@id([userId, bullId])
}
